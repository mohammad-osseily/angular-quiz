<div class="user-detail-container">
  <button
    mat-button
    class="back-button"
    (click)="handleGoBack()"
    tabindex="0"
    aria-label="Go back to users list"
  >
    <mat-icon>arrow_back</mat-icon>
    <span>Back to Users</span>
  </button>

  @if (isLoading()) {
    <mat-card class="user-detail-card skeleton">
      <div class="skeleton-avatar-large"></div>
      <div class="skeleton-name-large"></div>
      <div class="skeleton-info-large"></div>
      <div class="skeleton-info-large"></div>
    </mat-card>
  } @else if (error()) {
    <mat-card class="error-card">
      <mat-icon class="error-icon">person_off</mat-icon>
      <h2>User Not Found</h2>
      <p>{{ error() }}</p>
      <a mat-raised-button color="primary" routerLink="/">
        <mat-icon>home</mat-icon>
        Go Home
      </a>
    </mat-card>
  } @else if (user()) {
    <mat-card class="user-detail-card">
      <div class="card-background"></div>
      <div class="card-content">
        <div class="avatar-section">
          <img
            [src]="user()!.avatar"
            [alt]="user()!.first_name + ' ' + user()!.last_name"
            class="user-avatar"
          />
          <div class="avatar-badge">
            <mat-icon>verified</mat-icon>
          </div>
        </div>

        <div class="user-info-section">
          <h1 class="user-name">{{ user()!.first_name }} {{ user()!.last_name }}</h1>

          <div class="info-grid">
            <div class="info-item">
              <mat-icon>badge</mat-icon>
              <div class="info-content">
                <span class="info-label">User ID</span>
                <span class="info-value">{{ user()!.id }}</span>
              </div>
            </div>

            <div class="info-item">
              <mat-icon>email</mat-icon>
              <div class="info-content">
                <span class="info-label">Email Address</span>
                <a [href]="'mailto:' + user()!.email" class="info-value email-link">
                  {{ user()!.email }}
                </a>
              </div>
            </div>

            <div class="info-item">
              <mat-icon>person</mat-icon>
              <div class="info-content">
                <span class="info-label">First Name</span>
                <span class="info-value">{{ user()!.first_name }}</span>
              </div>
            </div>

            <div class="info-item">
              <mat-icon>person_outline</mat-icon>
              <div class="info-content">
                <span class="info-label">Last Name</span>
                <span class="info-value">{{ user()!.last_name }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-card>
  }
</div>
